---
title: '[MySql] 파티션'
layout: post
categories: mysql
---

### 파티션
> MySql 서버의 입장에서는 데이터를 별도의 테이블로 분리해서 저장하지만   
사용자 입장에서는 여전히 하나의 테이블로 읽기와 쓰기를 할 수 있게 해주는 솔루션

### 파티션을 사용해야 하는 이유
- 데이터 임계치 : 레코드의 크기, 하드웨어 성능에 따라 차이가 있으나 1~3억건 정도
- 단일 INSERT 와 단일 또는 범위 SELECT 의 빠른 처리
- 데이터의 물리적인 저장소 분리
- 데이터의 효율적인 관리
    - DROP PARTITION, ADD PARTITION 을 통해 삭제 및 추가가 용이하다.

### MySql 파티션은 성숙된 기술이 아님
- SELECT 쿼리는 성능 향상이 크지 않음
- 쓰기 성능에는 어느 정도 도움을 줌

### 제약사항
- 최대 1024개
- 키 값으로 사용할 수 있는 함수가 제한적
- 파티션 테이블에서는 외래키 사용 불가

### open_files_limit 파라미터
> 동시에 오픈할 수 있는 파일 개수 설정

- 파티션을 많이 사용하는 경우 적절한 값으로 재설정해야 한다.
- 일반 테이블의 경우 테이블 당 오픈된 파일의 개수가 2~3개
- 파티션 테이블 : 파티션의 개수 * 2~3
